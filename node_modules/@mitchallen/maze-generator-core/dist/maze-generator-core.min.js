!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(b.MitchAllen||(b.MitchAllen={})).MazeGeneratorCore=a()}}(function(){return function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";b.exports.create=function(a){a=a||{};var b=a.grid;return b?Object.assign(b,{solve:function(a){if(!(a.length<1)){var b=a[0],c=b.x,d=b.y,e=!0,f=!1,g=void 0;try{for(var h,i=a[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value,k=j.x,l=void 0===k?-1:k,m=j.y,n=void 0===m?-1:m;this.markGreen(l,n)}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}var o=this.xSize*this.ySize;this.clearAllVisited(),this.solveNode(c,d,0,o)}},solveNode:function(a,b,c,d){if(c>=d)return void console.warn("MAXIMUM DEPTH REACHED: %d",d);if(this.isLeaf(a,b)&&!this.isGreen(a,b))return void this.markRed(a,b);if(!this.visited(a,b)){this.markVisited(a,b);var e=this.getShuffledNeighborDirs(a,b),f=!0,g=!1,h=void 0;try{for(var i,j=e[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value,l=this.getNeighbor(a,b,k);null!==l&&(this.connects(a,b,k)&&(this.isRed(l.x,l.y)||this.solveNode(l.x,l.y,c+1,d)))}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}var m=0,n=0,o=!0,p=!1,q=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var t=r.value,u=this.getNeighbor(a,b,t);null!==u&&(this.connects(a,b,t)&&(m++,this.isRed(u.x,u.y)&&n++))}}catch(a){p=!0,q=a}finally{try{!o&&s.return&&s.return()}finally{if(p)throw q}}1===m-n?this.isGreen(a,b)||this.markRed(a,b):this.markGreen(a,b)}},carveMaze:function(a,b,c,d,e){if(!e(c,d)&&this.isCell(a,b)){var f=this.getShuffledNeighborDirs(a,b);for(var g in f){var h=f[g],i=this.getNeighbor(a,b,h);null!==i&&(this.isMasked(i.x,i.y)||this.isCell(i.x,i.y)&&!this.hasConnections(i.x,i.y)&&(this.connectUndirected(a,b,h),this.carveMaze(i.x,i.y,c+1,d,e)))}}},afterGenerate:function(a){},generate:function(a){a=a||{};var b=a.mask||[],c=a.start||{},d=c.c||0,e=c.r||0,f=a.depthFunction||function(a,b){};this.fill(0);for(var g in b){var h=b[g];this.mask(h.c,h.r)}var i=this.xSize*this.ySize;this.carveMaze(d,e,0,i,f),this.afterGenerate(a)}}):null}},{}]},{},[1])(1)});